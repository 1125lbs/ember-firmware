#!/usr/bin/env ruby
ENV['RACK_ENV'] ||= 'production'
require 'thin'
require 'smith/app/application'
smith_app = Smith::App::Application.new
app = Rack::Builder.new do
  use Rack::CommonLogger
  run smith_app
end
server = Thin::Server.new(smith_app.settings.bind, smith_app.settings.port, app)
server.log_file = '/var/log/smith-server.log'
server.pid_file = '/var/run/smith-server.pid'
server.daemonize
server.start
