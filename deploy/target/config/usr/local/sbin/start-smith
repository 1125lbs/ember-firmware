#!/bin/bash

smith_executable=/usr/local/bin/smith
pid_file=/var/run/smith.pid

if [ -f "$pid_file" ]; then
  pid=$(cat "${pid_file}")
  echo "smith is already running, pid: ${pid}"
  exit
fi

# Start smith in the background and write the PID file
# Redirect stdout and stderr to /dev/null
"${smith_executable}" > /dev/null 2>&1 &
printf $! > "${pid_file}"

